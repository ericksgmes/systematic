# Pré e pós-condições de cada service:


| Nome do serviço                             | Pré-condição                                                                                                                                                                                                  | Pós-condição                                                                                                                                                                                                  |
|---------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RegisterUserAccountService                  | O e-mail e o username não podem estar em uso.                                                                                                                                                                 | O usuário deve estar cadastrado.                                                                                                                                                                              |
| LoadUserCredentialsService                  | Não possui.                                                                                                                                                                                                   | O usuário é retornado.                                                                                                                                                                                        |
| CreateSystematicStudyService                | O usuário deve estar autenticado.                                                                                                                                                                             | O systematic study e o protocol devem estar cadastrados. O user deve ser designado como owner do systematic study.                                                                                            |
| FindAllSystematicStudiesService             | O usuário deve estar autenticado e ter perfil de ADMIN.                                                                                                                                                       | Todos os systematic studies são retornados.                                                                                                                                                                   |
| FindAllSystematicStudiesByResearcherService | O usuário deve estar autenticado.                                                                                                                                                                             | Todos os systematic studies que ele participa são retornados.                                                                                                                                                 |
| FindSystematicStudyService                  | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN.                                                                                                                              | O systematic study é retornado                                                                                                                                                                                |
| UpdateSystematicStudyService                | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study deve existir.                                                                                             | O systematic deve estar atualizado                                                                                                                                                                            |
| FindProtocolService                         | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study deve existir.                                                                                             | O protocol é retornado                                                                                                                                                                                        |
| UpdateProtocolService                       | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study deve existir.                                                                                             | O protocol é atualizado                                                                                                                                                                                       |
| CreateQuestionService                       | O usuário deve estar autenticado e fazer parte do systematic study. O systematic study deve existir.                                                                                                          | A question deve estar cadastrada. O protocol deve ter sido atualizado com o id da nova question.                                                                                                              |
| UpdateQuestionService (Criar, não achei)    | O usuário deve estar autenticado e fazer parte do systematic study. O systematic study e a question devem existir.                                                                                            | A question deve estar atualizada                                                                                                                                                                              |
| FindQuestionService                         | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study e a question devem existir.                                                                               | A question deve é retornada                                                                                                                                                                                   |
| FindAllQuestionsBySystematicStudyService    | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study deve existir.                                                                                             | As questions da review devem ser retornadas                                                                                                                                                                   |
| CreateSearchSessionService                  | O usuário deve estar autenticado e fazer parte do systematic study. O systematic study deve existir. O protocol deve prever a SearchSource associada à SearchSession                                          | A search session deve ter sido cadastrada. A systematic review deve ter sido atualizada com o id da nova session. Devem ter sido registradas entradas de StudyReview cada item do arquivo enviado (se houver) |
| UpdateSearchSessionService                  | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study e a session devem existir. Não deve ser possível alterar o arquivo ou a search source associada a session | A search session deve ter sido atualizada.                                                                                                                                                                    |
| FindAllSearchSessionsService                | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study deve existir.                                                                                             | As search sessions da review são retornadas.                                                                                                                                                                  |
| FindSearchSessionService                    | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study e a session devem existir.                                                                                | A search session é retornada.                                                                                                                                                                                 |
| CreateStudyReviewService                    | O usuário deve estar autenticado e fazer parte do systematic study. O systematic study e a session associada devem existir.                                                                                   | A study review foi cadastrado. Ele está associado ao user e a session.                                                                                                                                        |
| FindAllStudyReviewsService                  | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN.                                                                                                                              | Todos os estudos da revisão devem ser retornados.                                                                                                                                                             |
| FindAllStudyReviewsBySourceService          | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study de existir e protocolo deve contemplar a search source.                                                   | Todos os estudos de uma dada search session da revisão devem ser retornados.                                                                                                                                  |
| FindStudyReviewService                      | O usuário deve estar autenticado e fazer parte do systematic study ou ser ADMIN. O systematic study e o study review devem existir.                                                                           | A study review é retornado.                                                                                                                                                                                   |
| UpdateStudyReviewService                    | O usuário deve estar autenticado e fazer parte do systematic study. O systematic study e o study review devem existir.                                                                                        | A study review foi atualizado.                                                                                                                                                                                |
| UpdateStudyReviewStatusService              | O usuário deve estar autenticado e fazer parte do systematic study. O systematic study e o study review devem existir.                                                                                        | A study review foi atualizado.                                                                                                                                                                                |
| MarkAsDuplicatedStatusService               | O usuário deve estar autenticado e fazer parte do systematic study. O systematic study e os dois study reviews devem existir.                                                                                 | O estado dos dois study reviews foi atualizado.                                                                                                                                                               |
